<tal:block i18n:domain="plone">

<h2 tal:define="navigation_title python:view.title() != 'Navigation' and '%s Navigation' % view.title() or view.title()"
    class="hiddenStructure"
    tal:content="navigation_title" />

<dl class="portlet portletNavigationTree"
    tal:define="root view/navigation_root">

    <dt class="portletHeader">
        <span class="portletTopLeft"></span>
        <a href="#"
           class="tile"
           tal:attributes="href string:${root/absolute_url}"
           tal:content="view/title">Navigation</a>
        <span class="portletTopRight"></span>
    </dt>

    <dd class="portletItem lastItem">
        <ul class="navTree navTreeLevel0">
            <li tal:define="selectedClass view/root_item_class;
                            li_class python:selectedClass and ' navTreeCurrentNode' or '';"
                tal:condition="view/include_top"
                tal:attributes="class string:navTreeItem navTree navTreeTitle navTreeTopNode${li_class}">
                <div class="sectionNavigation"
                    tal:condition="python: root.portal_type == 'Section'"
                    tal:define="parent_node root/getParentNode">
                   <a tal:attributes="href parent_node/absolute_url;
                                      title parent_node/Description;"
                      tal:content="parent_node/Title"
                      class="parentNode" /><!--
                   <a tal:attributes="href root/absolute_url;
                                      title root/Description;"
                      tal:content="root/Title"
                      class="sectionNode" />-->
                </div>
                <div
                    tal:condition="python: root.portal_type != 'Section'">
                   <a tal:attributes="href root/absolute_url;
                                      title root/Description;
                                      class string:contenttype-plone-site $selectedClass;"
                      tal:content="root/Title">
                   </a>
                </div>
            </li>
            <li tal:condition="python: root.portal_type == 'Section' and view.include_top"
                tal:define="selectedClass view/root_item_class;
                            li_class python:selectedClass and ' navTreeCurrentNode' or '';"
                tal:attributes="class string:navTreeItem navTree __navTreeTitle navTreeSectionTitle navTreeTopNode${li_class}">
                <div class="sectionNavigation"
                    tal:define="parent_node root/getParentNode">
                   <a tal:attributes="href root/absolute_url;
                                      title root/Description;"
                      tal:content="root/Title"
                      class="underSectionNode" />
                </div>
            </li>
            <li tal:replace="structure view/createNavTree">
                SUBTREE
            </li>
        </ul>
        <span class="portletBottomLeft"></span>
        <span class="portletBottomRight"></span>
    </dd>
</dl>
</tal:block>
